<template>
  <ui-view>
    <ui-page>
      <ui-nav-bar slot="nav-bar" class="nav_bar">
        <ui-row height="46">
          <ui-col vertical-align="middle" align="left" space-left="10" width="50" bindtap="">
            <ui-view>
              <ui-icon type="arrow-left" size="20" color="#3399ff"></ui-icon>
            </ui-view>
          </ui-col>
          <ui-col vertical-align="middle" align="center">
            <ui-view class="nav_title">项目日志</ui-view>
          </ui-col>
          <ui-col vertical-align="middle" align="center" width="50" bindtap="">
            <ui-view class="nav-right">取消</ui-view>
          </ui-col>
        </ui-row>
      </ui-nav-bar>

      <!-- 3图，上下结构 -->
      <ui-view class="list-view" ui:for="{{items}}" ui:for-item="item">
        <ui-row space="20">
          <ui-col>
            <ui-text class="titlename">{{item.titleName}}</ui-text>
          </ui-col>
        </ui-row>
        <ui-row space="20">
          <ui-col space="10" ui:for="{{item.imgarr}}" ui:for-item="image" class="imgbox-2">
            <ui-image width="100%" height="" src="{{image.imgsrc}}" mode="aspectFill"></ui-image>
          </ui-col>
        </ui-row>
        <ui-row space="20">
          <ui-col vertical-align="bottom">
            <ui-view>
              <ui-text class="color6 small-font">{{item.source}} ·</ui-text>
              <ui-text class="color6 small-font">{{item.datetime}}</ui-text>
            </ui-view>
          </ui-col>
          <ui-col vertical-align="bottom" align="right" space-right="10">
            <ui-view>
              <ui-text class="color6 small-font">{{item.collect}}收藏</ui-text>
            </ui-view>
          </ui-col>
        </ui-row>
      </ui-view>

    </ui-page>
  </ui-view>
</template>

<script>
  export default {
    config: {
      "navigationBarTitleText": "资讯列表",
      "navigationStyle": "custom",
      "navigationBarTextStyle": "black",
      "scrollType": "div"
    },
    data() {
      return {
        headerTop: ui.DEFAULT_HEADER_HEIGHT,
        height: ui.DEFAULT_CONTENT_HEIGHT,
        items: [{
          "id": 2,
          "type": "1",
          "titleName": "Velodyne推出了首款128线激光雷达，据说它是全自动驾驶落地的利器-精选文章列表",
          "datetime": "2小时前",
          "collect": "10",
          "source": "共享经济",
          "dataType": "hot",
          "imgarr": [{
              "id": 2,
              "imgsrc": "https://pic.36krcnd.com/201711/30082030/ofer4v0qixxbzys5!heading"
            },
            {
              "id": 2,
              "imgsrc": "https://pic.36krcnd.com/201711/30082030/ofer4v0qixxbzys5!heading"
            },
            {
              "id": 2,
              "imgsrc": "https://pic.36krcnd.com/201711/30082030/ofer4v0qixxbzys5!heading"
            }
          ],
          "articleType": [{
            "id": 19,
            "backgroundColor": "#d6e1f3",
            "color": "#4285f4",
            "content": "专题"
          }]
        }],
        config: null,
        suffix: '',
        url: '',
        config1: {
          url: '',
          type: 'get',
          pageSize: {
            key: 'pageSize',
            value: 5
          },
          pageNo: {
            key: 'pageNo',
            value: 1
          },
          dataKey: 'data',
          reload: false,
          refresh: false
        },
        tabIndex: 0,
        status: null
      }
    },
    methods: {

      details() {
        ui.navigateTo({
          url: '/pages/templeteDemo/information/details'
        })
      },
      navigateBack() {
        ui.navigateBack()
      }
    },
    mounted() {
      this.config1.url = `https://www.uileader.com/touchui-backstage/listNews.do?suffix=-精选文章列表`
      this.config = this.config1
    }
  }
</script>

<style lang="less">

.nav_bar {
  background: #fff;
  .nav_title{
    color: #000;
    font-size: 16px;
    font-weight: bold;
  }
  .nav-right{
    color: #3399ff;
    font-size: 14px;
  }
}
  .top_content {
    position: absolute;
    width: 100%;
    background-color: #fff;
    z-index: 999;
  }

  .ui-nav-bar {
    background-color: #fff;
  }

  .list-view {
    padding: 10px;

    .titlename {
      color: #333;
      font-size: 16px;
    }

    .color6 {
      color: #666;
    }

    .color3 {
      color: #333;
    }

    .articletype {
      padding: 2px 3px;
      border-radius: 2px;
    }

    .imgbox-1 {
      flex: 0 0 260rpx;

      .ui-image {
        border-radius: 5px;
      }
    }

    .imgbox-2 {
      .ui-image {
        border-radius: 5px;
      }
    }

    .imgbox-3 {
      .ui-image {
        border-radius: 5px;
      }
    }

    .small-font {
      font-size: 12px;
    }

  }


  @media screen and (max-width: 320px) {
    .small-font {
      font-size: 10px;
    }
  }
</style>